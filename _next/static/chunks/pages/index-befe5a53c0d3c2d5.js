(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,o,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(85)}])},85:function(e,o,n){"use strict";n.r(o);var t=n(5893),i=n(7294),r=n(2729),l=n.n(r);o.default=()=>{let[e,o]=(0,i.useState)("soft"),[n,r]=(0,i.useState)(9),[s,a]=(0,i.useState)(9),[d,c]=(0,i.useState)(10),[f,_]=(0,i.useState)(10),[u,h]=(0,i.useState)([]),[x,g]=(0,i.useState)(!0),[m,v]=(0,i.useState)(12),b=[[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0]],p=(0,i.useCallback)(e=>{"soft"===e?(r(9),a(9),c(10)):"standerd"===e?(r(16),a(16),c(40)):"hard"===e?(r(16),a(30),c(10)):"costom"===e&&(r(9),a(9),c(10))},[]),j=(0,i.useCallback)(()=>{let e=[];for(let o=0;o<n;o++){let o=[];for(let e=0;e<s;e++)o.push({mine:!1,neighbors:0,revealed:!1,flagged:!1});e.push(o)}return e},[n,s]);(0,i.useEffect)(()=>{p(e)},[e,p]),(0,i.useEffect)(()=>{h(j()),_(d),g(!0),v(12)},[n,s,j,d]);let k=(e,o)=>{if(14===m||u[o][e].flagged)return;if(u[o][e].mine){for(let e of u)for(let o of e)o.mine&&(o.revealed=!0);v(14);return}let t=[...u];if(x){let i=[];for(;i.length<d;){let t=Math.floor(Math.random()*(n*s));i.includes(t)||o===Math.floor(t/s)&&e===t%s||i.push(t)}for(let e of i){let o=Math.floor(e/s),n=e%s;t[o][n].mine=!0}for(let e=0;e<n;e++)for(let o=0;o<s;o++)for(let n of b)void 0!==t[e+n[0]]&&void 0!==t[e+n[0]][o+n[1]]&&t[e+n[0]][o+n[1]].mine&&t[e][o].neighbors++;h(t),g(!1)}let i=(e,o,n)=>{if(0===n[o][e].neighbors){for(let t of b)if(void 0!==n[o+t[0]]&&void 0!==n[o+t[0]][e+t[1]]){if(n[o+t[0]][e+t[1]].revealed||n[o+t[0]][e+t[1]].mine||0!==n[o+t[0]][e+t[1]].neighbors){if(0!==n[o+t[0]][e+t[1]].neighbors)for(let t of b)void 0===n[o+t[0]]||void 0===n[o+t[0]][e+t[1]]||0===n[o+t[0]][e+t[1]].neighbors||n[o+t[0]][e+t[1]].mine||(n[o+t[0]][e+t[1]].revealed=!0)}else n[o+t[0]][e+t[1]].revealed=!0,i(e+t[1],o+t[0],n)}}};t[o][e].revealed=!0,i(e,o,t),h(t);let r=0;for(let e of t)for(let o of e)o.revealed&&r++;if(r===n*s-d){v(13);return}},N=(e,o,n)=>{if(14===m)return;e.preventDefault();let t=[...u];t[n][o].flagged=!t[n][o].flagged,t[n][o].flagged?_(f-1):_(f+1),h(t)},y=()=>{h(j()),_(d),g(!0),v(12)},C=e=>{o(e)};return(0,t.jsxs)("div",{className:l().container,children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,t.jsx)("div",{onClick:()=>C("soft"),style:{fontWeight:"soft"===e?"bold":"normal",cursor:"pointer"},children:"初級"}),(0,t.jsx)("div",{onClick:()=>C("standerd"),style:{fontWeight:"standerd"===e?"bold":"normal",cursor:"pointer"},children:"中級"}),(0,t.jsx)("div",{onClick:()=>C("hard"),style:{fontWeight:"hard"===e?"bold":"normal",cursor:"pointer"},children:"上級"}),(0,t.jsx)("div",{onClick:()=>C("costom"),style:{fontWeight:"costom"===e?"bold":"normal",cursor:"pointer"},children:"カスタム"})]})}),(0,t.jsxs)("div",{className:l().gamecontainer,children:[(0,t.jsxs)("div",{className:l().topbar,children:[(0,t.jsx)("div",{className:l().display,children:f}),(0,t.jsx)("div",{className:l().emoji,style:{backgroundPositionX:30-30*m},onClick:()=>y()}),(0,t.jsx)("div",{className:l().display,children:"11"})]}),(0,t.jsx)("div",{className:l().board,children:u.map((e,o)=>(0,t.jsx)("div",{className:l().row,children:e.map((e,n)=>e.revealed?e.mine?(0,t.jsx)("div",{className:l().cell,style:{backgroundPositionX:-240}},"".concat(n,"-").concat(o)):(0,t.jsx)("div",{className:l().cell,style:{backgroundPositionX:24-24*e.neighbors}},"".concat(n,"-").concat(o)):e.flagged?(0,t.jsx)("button",{className:l().cover,style:{backgroundPositionX:-216},onClick:()=>k(n,o),onContextMenu:e=>N(e,n,o)},"".concat(n,"-").concat(o)):(0,t.jsx)("button",{className:l().cover,style:{backgroundPositionX:24},onClick:()=>k(n,o),onContextMenu:e=>N(e,n,o)},"".concat(n,"-").concat(o)))},o))})]})]})}},2729:function(e){e.exports={container:"index_container___q52_",main:"index_main__OmNu0",footer:"index_footer__v7pGE",title:"index_title__k0g7D",description:"index_description__fcKbo",code:"index_code__r6g09",grid:"index_grid__LrZtk",card:"index_card__7H7ka",logo:"index_logo__Z0ACT",topbar:"index_topbar__nGEhO",display:"index_display__fIk67",emoji:"index_emoji__HOWx3",gamecontainer:"index_gamecontainer__8Whu4",row:"index_row__UqwCN",cell:"index_cell__E8qMc",board:"index_board__dNO5V",cover:"index_cover__Hrjg1"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);